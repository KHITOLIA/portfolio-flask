{% extends "base.html" %}
{% block content %}
<section class="max-w-2xl mx-auto px-4 py-14">
  <h1 class="text-3xl md:text-4xl font-extrabold mb-2">Contact</h1>
  <p class="text-slate-600 dark:text-slate-300 mb-8">Tell me about your training needs or project.</p>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="space-y-3 mb-6">
        {% for category, msg in messages %}
          <div class="p-3 rounded-xl text-sm {{ 'bg-green-100 text-green-800' if category=='success' else 'bg-red-100 text-red-800' }}">{{ msg }}</div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <form method="post" class="grid gap-4">
    <div>
      <label class="block text-sm mb-1">Name</label>
      <input name="name" required class="w-full px-4 py-2 rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800" placeholder="Your full name">
    </div>
    <div>
      <label class="block text-sm mb-1">Email</label>
      <input type="email" name="email" required class="w-full px-4 py-2 rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800" placeholder="you@company.com">
    </div>
    <div>
      <label class="block text-sm mb-1">Subject</label>
      <input name="subject" class="w-full px-4 py-2 rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800" placeholder="Workshop, Consulting, Project...">
    </div>
    <div>
      <label class="block text-sm mb-1">Message</label>
      <textarea name="message" required rows="6" class="w-full px-4 py-2 rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800" placeholder="What do you need help with?"></textarea>
    </div>
    <button class="px-5 py-3 rounded-xl bg-indigo-600 text-white hover:bg-indigo-500 w-max">Send Message</button>
  </form>

  <p class="text-xs text-slate-500 mt-6">Your message is stored locally in <code>data/messages.csv</code>. Integrate email (SMTP/SendGrid) later.</p>
</section>
{% endblock %}
